<div class="d-flex flex-column min-vh-100">

  <!-- Main Layout -->
  <div class="flex-grow-1 d-flex">

    <!-- Left Sidebar (Categories) -->
    <app-sidebar (categoriesChanged)="onCategoriesChanged($event)"></app-sidebar>

    <!-- Main Content -->
    <div class="main-content flex-grow-1 p-4" style="max-width: 850px; margin: 0 auto;">
      <h3 class="mb-4 text-center">Your Bookmarks</h3>

      <!-- If not logged in -->
      <div *ngIf="!isLoggedIn" class="alert alert-warning text-center">
        You must be <a routerLink="/login" class="fw-bold text-decoration-underline">signed in</a> to view bookmarks.
      </div>

      <!-- No bookmarks -->
      <div *ngIf="isLoggedIn && bookmarks.length === 0" class="text-center text-muted">
        You have no bookmarks yet.
      </div>

      <!-- Bookmark cards -->
      <div
        *ngFor="let article of bookmarks"
        class="mb-4 p-3 border rounded shadow-sm"
        [ngClass]="{ 'bg-light text-dark': !isDarkMode, 'bg-dark text-light': isDarkMode }"
      >
        <h5>{{ article.title }}</h5>
        <img *ngIf="article.urlToImage" [src]="article.urlToImage" class="img-fluid rounded mb-2" alt="news image" />
        <p>{{ article.description }}</p>
        <a [href]="article.url" target="_blank" class="btn btn-sm btn-primary me-2">Read More</a>
        <button class="btn btn-sm btn-outline-danger" (click)="removeBookmark(article)">
          <i class="bi bi-bookmark-dash"></i> Remove
        </button>
      </div>
    </div>

    <!-- Right Sidebar -->
    <div class="sidebar d-flex flex-column p-3 border-start">
      <h6 class="fw-bold mb-3">Bookmarks</h6>
      <ul class="nav flex-column">
        <li class="nav-item"><a class="nav-link" [routerLink]="'/bookmarks'">Bookmarks</a></li>
        <li class="nav-item"><a class="nav-link" [routerLink]="'/my-account'">My Account</a></li>
        <li class="nav-item"><a class="nav-link" [routerLink]="'/about-us'">About Us</a></li>
      </ul>
    </div>

  </div>
</div>
